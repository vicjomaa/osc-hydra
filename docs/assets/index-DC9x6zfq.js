var Ue=Object.defineProperty;var Xe=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(Xe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function K(){}function De(e){return e()}function Ee(){return Object.create(null)}function te(e){e.forEach(De)}function je(e){return typeof e=="function"}function qe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Qe(e){return Object.keys(e).length===0}function r(e,t){e.appendChild(t)}function ne(e,t,n){e.insertBefore(t,n||null)}function J(e){e.parentNode&&e.parentNode.removeChild(e)}function We(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function i(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function y(){return B(" ")}function Ye(){return B("")}function W(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function et(e){return Array.from(e.childNodes)}function ye(e,t){t=""+t,e.data!==t&&(e.data=t)}function R(e,t){e.value=t??""}function Ve(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function pe(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Le(e){const t=e.querySelector(":checked");return t&&t.__value}let Y;function Q(e){Y=e}function tt(){if(!Y)throw new Error("Function called outside component initialization");return Y}function nt(e){tt().$$.on_mount.push(e)}const H=[],Ne=[];let G=[];const Te=[],lt=Promise.resolve();let we=!1;function ot(){we||(we=!0,lt.then(Fe))}function ee(e){G.push(e)}const ve=new Set;let F=0;function Fe(){if(F!==0)return;const e=Y;do{try{for(;F<H.length;){const t=H[F];F++,Q(t),rt(t.$$)}}catch(t){throw H.length=0,F=0,t}for(Q(null),H.length=0,F=0;Ne.length;)Ne.pop()();for(let t=0;t<G.length;t+=1){const n=G[t];ve.has(n)||(ve.add(n),n())}G.length=0}while(H.length);for(;Te.length;)Te.pop()();we=!1,ve.clear(),Q(e)}function rt(e){if(e.fragment!==null){e.update(),te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function st(e){const t=[],n=[];G.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),G=t}const he=new Set;let ut;function He(e,t){e&&e.i&&(he.delete(e),e.i(t))}function it(e,t,n,l){if(e&&e.o){if(he.has(e))return;he.add(e),ut.c.push(()=>{he.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function me(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function at(e){e&&e.c()}function Ge(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),ee(()=>{const s=e.$$.on_mount.map(De).filter(je);e.$$.on_destroy?e.$$.on_destroy.push(...s):te(s),e.$$.on_mount=[]}),o.forEach(ee)}function Je(e,t){const n=e.$$;n.fragment!==null&&(st(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(e,t){e.$$.dirty[0]===-1&&(H.push(e),ot(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ze(e,t,n,l,o,s,u=null,m=[-1]){const b=Y;Q(e);const f=e.$$={fragment:null,ctx:[],props:s,update:K,not_equal:o,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(b?b.$$.context:[])),callbacks:Ee(),dirty:m,skip_bound:!1,root:t.target||b.$$.root};u&&u(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},(d,S,...$)=>{const A=$.length?$[0]:S;return f.ctx&&o(f.ctx[d],f.ctx[d]=A)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](A),p&&ct(e,d)),S}):[],f.update(),p=!0,te(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const d=et(t.target);f.fragment&&f.fragment.l(d),d.forEach(J)}else f.fragment&&f.fragment.c();t.intro&&He(e.$$.fragment),Ge(e,t.target,t.anchor),Fe()}Q(b)}class ze{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){Je(this,1),this.$destroy=K}$on(t,n){if(!je(n))return K;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Qe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dt);function Me(e,t,n){const l=e.slice();return l[23]=t[n],l[25]=n,l}function Re(e,t,n){const l=e.slice();return l[26]=t[n],l}function Ke(e){let t,n=e[26].name+"",l,o;return{c(){t=i("option"),l=B(n),o=y(),t.__value=e[26].usbProductId,R(t,t.__value)},m(s,u){ne(s,t,u),r(t,l),r(t,o)},p:K,d(s){s&&J(t)}}}function Be(e){let t,n=me(e[1]),l=[];for(let o=0;o<n.length;o+=1)l[o]=ke(Me(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=Ye()},m(o,s){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,s);ne(o,t,s)},p(o,s){if(s&2){n=me(o[1]);let u;for(u=0;u<n.length;u+=1){const m=Me(o,n,u);l[u]?l[u].p(m,s):(l[u]=ke(m),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=n.length}},d(o){o&&J(t),We(l,o)}}}function ke(e){let t,n,l,o,s,u=e[23].cc+"",m,b,f;return{c(){t=i("div"),n=i("div"),l=i("h2"),l.textContent=`cc${e[25]}:`,o=y(),s=i("div"),m=B(u),b=B("%"),f=y(),a(l,"class","card-title justify-center pb-5"),a(s,"class","radial-progress text-primary"),Ve(s,"--value",e[23].cc),a(s,"role","progressbar"),a(n,"class","p-2"),a(t,"class","card !p-2 bg-base-100 shadow-xl m-10")},m(p,d){ne(p,t,d),r(t,n),r(n,l),r(n,o),r(n,s),r(s,m),r(s,b),r(t,f)},p(p,d){d&2&&u!==(u=p[23].cc+"")&&ye(m,u),d&2&&Ve(s,"--value",p[23].cc)},d(p){p&&J(t)}}}function ft(e){let t,n,l,o,s,u,m,b,f,p,d,S,$,A,le,w,O,C,E,V,L,oe,N,T,k,v,h,_=e[2]?"OK":"Offline",M,D,Ie,j,re,xe,Z,se=e[2]?"OK":"Close",_e,ue,$e,z,Pe,ie,Se,U,ae,ce,Ae,X,de,fe,ge,Oe,q=me(e[5]),I=[];for(let c=0;c<q.length;c+=1)I[c]=Ke(Re(e,q,c));let x=e[1]!==null&&Be(e);return{c(){t=i("main"),n=i("div"),n.innerHTML=`Sorry, <b>Web Serial</b> is not supported on this device, make sure you&#39;re 
    running Chrome 78 or later and have enabled the 
    <code>#enable-experimental-web-platform-features</code> flag in
    <code>chrome://flags</code>`,l=y(),o=i("h1"),o.textContent="Hydra OSC",s=y(),u=i("div"),m=i("label"),b=i("div"),b.innerHTML='<span class="label-text">Board</span>',f=y(),p=i("select"),d=i("option"),d.textContent="Pick a board";for(let c=0;c<I.length;c+=1)I[c].c();S=y(),$=i("label"),A=i("div"),A.innerHTML='<span class="label-text">Baud Rate</span>',le=y(),w=i("select"),O=i("option"),O.textContent="Pick the baudRate",C=i("option"),C.textContent="9600",E=i("option"),E.textContent="19200",V=i("option"),V.textContent="57600",L=i("option"),L.textContent="115200",oe=y(),N=i("div"),T=i("div"),k=i("div"),k.textContent="Connection Status",v=y(),h=i("div"),M=B(_),Ie=y(),j=i("div"),re=i("div"),re.textContent="Data Stream",xe=y(),Z=i("div"),_e=B(se),$e=y(),z=i("div"),x&&x.c(),Pe=y(),ie=i("div"),ie.textContent="OR",Se=y(),U=i("div"),ae=i("button"),ae.textContent="Close Port",Ae=y(),X=i("div"),de=i("button"),de.textContent="Reconnect",a(n,"id","notSupported"),a(n,"class","hidden"),a(b,"class","label"),d.__value="",R(d,d.__value),d.disabled=!0,d.selected=!0,a(p,"class","select select-bordered"),e[3]===void 0&&ee(()=>e[9].call(p)),a(m,"class","form-control w-full max-w-xs mr-10"),a(A,"class","label"),O.__value="",R(O,O.__value),O.disabled=!0,O.selected=!0,C.__value=9600,R(C,C.__value),E.__value=19200,R(E,E.__value),V.__value=57600,R(V,V.__value),L.__value=115200,R(L,L.__value),a(w,"class","select select-bordered"),e[0]===void 0&&ee(()=>e[10].call(w)),a($,"class","form-control w-full max-w-xs"),a(u,"class","flex flex-row my-5"),a(k,"class","stat-title"),a(h,"class",D="badge my-2 "+(e[2]?"badge-accent":"badge-ghost")),a(T,"class","stat"),a(re,"class","stat-title"),a(Z,"class",ue="badge my-2 "+(e[4]?"badge-accent":"badge-default")),a(j,"class","stat"),a(N,"class","stats shadow"),a(z,"class","flex flex-row"),a(ie,"class","divider"),a(U,"class",ce="my-10 "+(e[2]?"":"hidden")),a(X,"class",fe="my-10 "+(e[2]==null&&e[0]!=null&&e[3]!=null?"":"hidden"))},m(c,P){ne(c,t,P),r(t,n),r(t,l),r(t,o),r(t,s),r(t,u),r(u,m),r(m,b),r(m,f),r(m,p),r(p,d);for(let g=0;g<I.length;g+=1)I[g]&&I[g].m(p,null);pe(p,e[3],!0),r(u,S),r(u,$),r($,A),r($,le),r($,w),r(w,O),r(w,C),r(w,E),r(w,V),r(w,L),pe(w,e[0],!0),r(t,oe),r(t,N),r(N,T),r(T,k),r(T,v),r(T,h),r(h,M),r(N,Ie),r(N,j),r(j,re),r(j,xe),r(j,Z),r(Z,_e),r(t,$e),r(t,z),x&&x.m(z,null),r(t,Pe),r(t,ie),r(t,Se),r(t,U),r(U,ae),r(t,Ae),r(t,X),r(X,de),ge||(Oe=[W(p,"change",e[9]),W(p,"change",e[6]),W(w,"change",e[10]),W(w,"change",e[8]),W(ae,"click",e[7]),W(de,"click",e[6])],ge=!0)},p(c,[P]){if(P&32){q=me(c[5]);let g;for(g=0;g<q.length;g+=1){const Ce=Re(c,q,g);I[g]?I[g].p(Ce,P):(I[g]=Ke(Ce),I[g].c(),I[g].m(p,null))}for(;g<I.length;g+=1)I[g].d(1);I.length=q.length}P&40&&pe(p,c[3]),P&1&&pe(w,c[0]),P&4&&_!==(_=c[2]?"OK":"Offline")&&ye(M,_),P&4&&D!==(D="badge my-2 "+(c[2]?"badge-accent":"badge-ghost"))&&a(h,"class",D),P&4&&se!==(se=c[2]?"OK":"Close")&&ye(_e,se),P&16&&ue!==(ue="badge my-2 "+(c[4]?"badge-accent":"badge-default"))&&a(Z,"class",ue),c[1]!==null?x?x.p(c,P):(x=Be(c),x.c(),x.m(z,null)):x&&(x.d(1),x=null),P&4&&ce!==(ce="my-10 "+(c[2]?"":"hidden"))&&a(U,"class",ce),P&45&&fe!==(fe="my-10 "+(c[2]==null&&c[0]!=null&&c[3]!=null?"":"hidden"))&&a(X,"class",fe)},i:K,o:K,d(c){c&&J(t),We(I,c),x&&x.d(),ge=!1,te(Oe)}}}function pt(e){const t=e.match(/(\w+):(\d+)/g);return t?t.map(l=>{const[o,s]=l.split(":");return{[o]:parseInt(s)}}):(console.error("No key-value pairs found in the text."),null)}function ht(e,t,n){let l=null,o="",s=null,u=null,m=null,b,f,p,d,S,$=!1;const A=[{name:"Arduino Mega 2560",usbVendorId:9025,usbProductId:66},{name:"Arduino Leonardo",usbVendorId:9025,usbProductId:32822},{name:"Arduino Micro",usbVendorId:9025,usbProductId:32823},{name:"Arduino/Genuino Zero",usbVendorId:9025,usbProductId:32845},{name:"Arduino/Genuino MKR1000",usbVendorId:9025,usbProductId:32846},{name:"Arduino MKRZERO",usbVendorId:9025,usbProductId:32847},{name:"Arduino MKR FOX 1200",usbVendorId:9025,usbProductId:32848},{name:"Arduino MKR GSM 1400",usbVendorId:9025,usbProductId:32850},{name:"Arduino MKR WAN 1300",usbVendorId:9025,usbProductId:32851},{name:"Arduino MKR WiFi 1010",usbVendorId:9025,usbProductId:32852},{name:"Arduino MKR NB 1500",usbVendorId:9025,usbProductId:32853},{name:"Arduino MKR Vidor 4000",usbVendorId:9025,usbProductId:32854},{name:"Arduino NANO 33 IoT",usbVendorId:9025,usbProductId:32855},{name:"Adafruit ItsyBitsy 32u4",usbVendorId:9114,usbProductId:14},{name:"Adafruit ItsyBitsy 32u4",usbVendorId:9114,usbProductId:32781}];nt(async()=>{document.getElementById("notSupported").classList.toggle("hidden","serial"in navigator)});function le(v){const h=A.find(_=>_.usbProductId===v);return h?h.usbVendorId:null}async function w(){let v=[{usbVendorId:le(m),usbProductId:m}];if(l!=null&&m!=null){n(2,u=await navigator.serial.requestPort({filters:v})),await u.open({baudRate:l});let h=new TextDecoderStream;b=u.readable.pipeTo(h.writable),p=h.readable.pipeThrough(new TransformStream(new L)).pipeThrough(new TransformStream(new oe)),S=p.getReader(),E();const _=new TextEncoderStream;f=_.readable.pipeTo(u.writable),d=_.writable,V("","echo(false);")}}async function O(){if(u){await C();return}await w()}async function C(){S&&(await S.cancel(),await b.catch(()=>{}),S=null,b=null),d&&(await d.getWriter().close(),await f,d=null,f=null),await u.close(),n(2,u=null)}async function E(){for(;;){const{value:v,done:h}=await S.read();if(v&&(n(4,$=!0),o=v,n(1,s=pt(o))),h){n(4,$=!1),console.log("[readLoop] DONE",h),S.releaseLock();break}}}function V(...v){const h=d.getWriter();v.forEach(_=>{console.log("[SEND]",_),h.write(_+`
`)}),h.releaseLock()}class L{constructor(){this.container=""}transform(h,_){this.container+=h;const M=this.container.split(`\r
`);this.container=M.pop(),M.forEach(D=>_.enqueue(D))}flush(h){h.enqueue(this.container)}}class oe{transform(h,_){try{_.enqueue(JSON.parse(h))}catch{_.enqueue(h)}}}async function N(v){n(0,l=parseInt(v.target.value)),await O()}function T(){m=Le(this),n(3,m),n(5,A)}function k(){l=Le(this),n(0,l)}return[l,s,u,m,$,A,O,C,N,T,k]}class mt extends ze{constructor(t){super(),Ze(this,t,ht,ft,qe,{})}}function _t(e){let t,n,l,o;return l=new mt({}),{c(){t=i("main"),n=i("div"),at(l.$$.fragment),a(n,"class","card")},m(s,u){ne(s,t,u),r(t,n),Ge(l,n,null),o=!0},p:K,i(s){o||(He(l.$$.fragment,s),o=!0)},o(s){it(l.$$.fragment,s),o=!1},d(s){s&&J(t),Je(l)}}}class gt extends ze{constructor(t){super(),Ze(this,t,null,_t,qe,{})}}new gt({target:document.getElementById("app")});
